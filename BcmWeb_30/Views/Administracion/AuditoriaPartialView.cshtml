@using BcmWeb_30
@using BcmWeb_30.Models

@model AuditoriaAdminModel

@Html.DevExpress().GridView(
settings =>
{
    settings.Name = "gvAuditoria";
    settings.CallbackRouteValues = new { Controller = "Administracion", Action = "AuditoriaPartialView" };

    settings.Width = System.Web.UI.WebControls.Unit.Percentage(100);
    settings.SettingsAdaptivity.AdaptivityMode = GridViewAdaptivityMode.HideDataCells;
    settings.ControlStyle.Paddings.Padding = System.Web.UI.WebControls.Unit.Pixel(0);
    settings.ControlStyle.Border.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
    settings.ControlStyle.BorderBottom.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(1);
    settings.Settings.HorizontalScrollBarMode = ScrollBarMode.Hidden;
    settings.Settings.VerticalScrollBarMode = ScrollBarMode.Auto;
    settings.Settings.VerticalScrollableHeight = 350;
    settings.ClientSideEvents.BeginCallback = "OnBeginGridCallback";
    settings.ClientSideEvents.EndCallback = "OnEndGridCallback";
    settings.SettingsLoadingPanel.Mode = GridViewLoadingPanelMode.Disabled;

    settings.Settings.ShowFilterRow = true;
    settings.Settings.ShowFilterRowMenu = true;

    settings.SettingsPager.PageSize = 20;
    settings.SettingsPager.Position = PagerPosition.Bottom;
    settings.SettingsPager.FirstPageButton.Visible = true;
    settings.SettingsPager.LastPageButton.Visible = true;
    settings.SettingsPager.PageSizeItemSettings.Visible = true;
    settings.SettingsPager.PageSizeItemSettings.Items = new string[] { "10", "20", "50", "100" };

    settings.CommandColumn.Visible = false;
    settings.CommandColumn.Width = Unit.Percentage(10);
    settings.CommandColumn.ShowNewButtonInHeader = false;
    settings.CommandColumn.ShowDeleteButton = false;
    settings.CommandColumn.ShowEditButton = false;

    settings.Columns.Add(c =>
    {
        c.Settings.AllowSort = DefaultBoolean.True;
        c.FieldName = "FechaRegistro";
        c.Width = Unit.Percentage(15);
        c.Caption = Resources.AuditoriaResource.CaptionFechaRegistro;
        c.CellStyle.Wrap = DefaultBoolean.True;
        c.CellStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.Wrap = DefaultBoolean.True;
        c.HeaderStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.VerticalAlign = VerticalAlign.Middle;
        c.ColumnType = MVCxGridViewColumnType.TextBox;
        c.Settings.AllowAutoFilter = DefaultBoolean.False;
    });
    settings.Columns.Add(c =>
    {
        c.Settings.AllowSort = DefaultBoolean.True;
        c.FieldName = "NombreUsuario";
        c.Width = Unit.Percentage(15);
        c.Caption = Resources.AuditoriaResource.CaptionUsuario;
        c.CellStyle.Wrap = DefaultBoolean.True;
        c.CellStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.Wrap = DefaultBoolean.True;
        c.HeaderStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.VerticalAlign = VerticalAlign.Middle;
        c.ColumnType = MVCxGridViewColumnType.Memo;
        c.Settings.AllowAutoFilter = DefaultBoolean.False;
    });
    settings.Columns.Add(c =>
    {
        c.Settings.AllowSort = DefaultBoolean.True;
        c.FieldName = "Accion";
        c.Width = Unit.Percentage(35);
        c.Caption = Resources.AuditoriaResource.CaptionAccion;
        c.CellStyle.Wrap = DefaultBoolean.True;
        c.CellStyle.HorizontalAlign = HorizontalAlign.Justify;
        c.HeaderStyle.Wrap = DefaultBoolean.True;
        c.HeaderStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.VerticalAlign = VerticalAlign.Middle;
        c.ColumnType = MVCxGridViewColumnType.Memo;
    });
    settings.Columns.Add(c =>
    {
        c.Settings.AllowSort = DefaultBoolean.True;
        c.FieldName = "DireccionIP";
        c.Width = Unit.Percentage(10);
        c.Caption = Resources.AuditoriaResource.CaptionDireccionIP;
        c.CellStyle.Wrap = DefaultBoolean.True;
        c.CellStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.Wrap = DefaultBoolean.True;
        c.HeaderStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.VerticalAlign = VerticalAlign.Middle;
        c.ColumnType = MVCxGridViewColumnType.TextBox;
    });
    settings.Columns.Add(c =>
    {
        c.Settings.AllowSort = DefaultBoolean.False;
        c.FieldName = "datosmodificados";
        c.Width = Unit.Percentage(15);
        c.Caption = Resources.AuditoriaResource.CaptionDatosModificados;
        c.CellStyle.Wrap = DefaultBoolean.True;
        c.CellStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.Wrap = DefaultBoolean.True;
        c.HeaderStyle.HorizontalAlign = HorizontalAlign.Center;
        c.HeaderStyle.VerticalAlign = VerticalAlign.Middle;
        c.ColumnType = MVCxGridViewColumnType.TextBox;
        
    });
}).Bind(Session["Data"]).GetHtml()





